!function(t){"use strict";t.module("rutInputTemplate.html",[]).run(["$templateCache",function(t){t.put("rutInputTemplate.html",'<input type="text" ng-model="rutmodel" rut-validator="" rut-formatter="{{formatOptions}}" class="form-control">')}]),t.module("app.rut.tpls",["rutInputTemplate.html"])}(angular),function(t){"use strict";t.module("mjr.rut",["app.rut.tpls"])}(angular),function(t){"use strict";function r(){function r(t){return this.value=t,this}function n(t){var r=l(t);if(f(r))throw"Invalid Argument: sRutSinDigitoVerificador";return e(r)}function e(t){var n,e="K",u=2,i=7,o=u-1,a=new r(l(t)).reverse(),s=a.sum(function(t){return o=o==i?u:++o,o*parseInt(t)}),c=s%11;switch(c){case 0:n="0";break;case 1:n=e;break;default:n=(11-c).toString()}return n}function u(t,n,e,u,i){var o=l(t);if(f(o))return"";if(p(o))return o;if(n=n||!0,e=e||!0,u=u||".",i=i||"-",o.length<y)return o;var a=function(t,r){for(;t.length>y;)r.insert(0,u+t.substring(t.length-y)),t=t.substring(0,t.length-y);return r.insert(0,t),r},s=o.charAt(o.length-1),c=o.substring(0,o.length-1),m=n?a(c,new r("")):new r(c);return e&&m.append(i),m.append(s).toString()}function i(t){if(f(t))return"";if(p(t)||!h(t))return t;var r=parseInt(l(t.substring(0,t.length-1)));return r}function o(t){return t.substring(0,t.length-1)}function a(t){if(f(t))throw"Invalid Argument: sRutCompleto";return h(t)?s(t):""}function s(t){return t.charAt(t.length-1)}function l(t){if(f(t))return"";var r=t;return r.replace(/[^0-9|k|K]/g,"")}function c(t){return/^[\d|k|K]$/.test(t)}function f(t){return null==t?!0:"string"!=typeof t?!1:!/\S/.test(t)}function p(t){return t.length<y}function m(t){return f(t)||t.length<y}function g(){return 1===arguments.length?h(arguments[0]):d(arguments[0],arguments[1])}function h(t){if(m(t))return!1;var r=o(t),n=s(t);return v(r,n)}function d(t,r){return f(r)||f(t)?!1:v(t,r)}function v(t,r){var n=l(t);return!f(n)&&r===e(t)}r.prototype.append=function(t){return this.value=this.value+t,this},r.prototype.toString=function(){return this.value},r.prototype.charAt=String.prototype.charAt,r.prototype.insert=function(t,r){return this.value=this.value.slice(0,t)+r+this.value.slice(t),this},r.prototype.reverse=function(){for(var t="",r=this.value.length-1;r>=0;r--)t+=this.value[r];return t},String.prototype.sum=function(t){for(var r=0,n=0;n<this.length;n++)r+=t(this[n]);return r};var y=3,A={format:u,removeFormat:l,isDigitoVerificadorValidChar:c,calculateDigitoVerificador:n,isRutValid:g,getRutSinDigitoVerificador:i,getDigitoVerificador:a};return t.extend({},A,{$get:function(){return A}})}t.module("mjr.rut").provider("rutApi",r)}(angular),function(t){"use strict";function r(){return{restrict:"EA",require:"?ngModel",templateUrl:"rutInputTemplate.html",scope:{formatOptions:"@"}}}t.module("mjr.rut").directive("rutInput",r)}(angular),function(t){"use strict";function r(t){function r(r,n,e,u){function i(r){var n=t.isRutValid(r);return u.$setValidity("rutValidator",n),n}u.$parsers.unshift(function(t){var r=i(t);return r?t:void 0}),u.$formatters.unshift(function(t){return i(t),t})}return{restrict:"A",require:"ngModel",link:r}}r.$inject=["rutApi"],t.module("mjr.rut").directive("rutValidator",r)}(angular),function(t){"use strict";function r(r){function n(n,e,u,i){if(i){var o,a={formatBody:!0,formatDv:!0,bodyDelimiter:".",dvDelimiter:"-"};try{o=JSON.parse(u.rutFormatter)}catch(s){throw"format options are not in a valid json format."}t.extend({},a,o);i.$formatters.unshift(function(){var t=r.format(i.$modelValue);return t}),i.$parsers.unshift(function(t){var n=r.format(t);return e.val(n),n})}}return{restrict:"A",require:"?ngModel",link:n}}r.$inject=["rutApi"],t.module("mjr.rut").directive("rutFormatter",r)}(angular),function(t){"use strict";function r(t){return function(r){var n=t.format(r);return n}}r.$inject=["rutApi"],t.module("mjr.rut").filter("rutFilter",r)}(angular);
